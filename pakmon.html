<!DOCTYPE html>
<html>

<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Draws grid with walls and coins on canvas</title>

  <style>
    body {
  background-color: black;
}
canvas {
    border: 1px solid white;
    margin: 45px;
}
  </style>

  
</head>
<body>
  <canvas id="canvas" width="300" height="250">
            This text is displayed if your browser does not support HTML5 Canvas.
        </canvas>

  <script>
    const my_canvas = document.getElementById('canvas'),
ctx = my_canvas.getContext("2d");
ctx.fillStyle = "blue"

const columnsNum = 6
const rowsNum = 5

//const passages = [[6,1],[0,7,2],[1,3],[2,9],[10,5],[4],[0,12],[1,8,13],[9,7],[3,8,10],[11,9,4],[17,10],[18,6],[7,14],[13,20,15],[21,14],[17,22],[16,11,23],[19,12,24],[20,18],[14,19],[27,15,22],[21,16],[17,29],[18,25],[24,26],[25,27],[26,21,28],[27],[23]] // index of an array is a cell number
//const passages = [[1,6],[2,0],[8,3,1],[2,4],[3,10,5],[4],[0,12],[],[14,2],[],[16,4],[17],[6,13,18],[14,12,19],[15,8,13],[16,14,21],[15,10,17],[16,11,23],[12,24],[13,25],[],[27,15],[],[17,29],[18],[19,26],[25,27],[28,21,26],[29,27],[23,28]]
//const passages = [[6],[2,7],[3,1],[2,4],[5,3],[11,4],[0,12],[1,13],[9,14],[10,8],[16,9],[17,5],[6,18],[7,19],[8,15],[14,16],[22,10,15],[23,11],[12,24],[13,20],[19,21],[20,22],[21,16],[29,17],[18,25],[24,26],[25,27],[28,26],[27,29],[28,23]]
//const passages = [[1,6],[0,2,7],[8,1],[9,4],[5,3],[4,11],[0],[13,1],[2,9],[8,3],[16],[5,17],[13,18],[14,7,19,12],[13,20],[16],[15,10,22,17],[11,16],[24,12],[13],[21,26,14],[27,20],[16],[29],[18,25],[24,26],[20,25],[21,28],[29,27],[23,28]]
// const passages = [[1,6],[2,0],[3,1],[9,2],[10,5],[4],[0,7],[6,13],[14,9],[10,3,8],[11,4,9],[17,10],[13,18],[7,12],[8,15],[14,21],[22,17],[16,11],[12,19,24],[18,20],[19,21,26],[20,15],[23,16],[22,29],[18,25],[24],[27,20],[28,26],[29,27],[23,28]]
const passages = [[6,1],[0,2],[1,3],[2,9,4],[3,5],[4,11],[0,12],[8,13],[9,7,14],[3,8,10,15],[9,16],[5,17],[13,6,18],[7,12,19],[20,8],[9],[17,10,22],[11,16,23],[12,24],[20,13],[21,19,14],[27,20,22],[16,21],[17,29],[18,25],[24,26],[25,27],[26,21,28],[29,27],[23,28]]



// for (let i = 0; i < columnsNum * rowsNum; i++) {
//   passages.push([])
// } 
// for (let i = 0; i < passages.length; i++) {
//   const right = i + 1
//   const down = i + columnsNum

//   if (right < passages.length && right % columnsNum && Math.random() > .5) {
//     passages[i].push(right)
//     passages[right].push(i)
//   }
//   if (down < passages.length && i < passages.length - columnsNum && Math.random() > .5) {
//     passages[i].push(down)
//     passages[down].push(i)
//   }
// }

function drawWalls() {
  ctx.beginPath()
  for (let i = 0; i < passages.length; i++) {
    const x = i % columnsNum
    const y = Math.floor(i / columnsNum)
  //ctx.font = "20px Comic Sans MS";
  //ctx.fillText(`${i}`, x * 50 + 20, y * 50 + 30);
    if (passages[i].indexOf(i + 1) == -1) {
      drawRight(x,y)
    }
    if (passages[i].indexOf(i + columnsNum) == -1)
    drawBottom(x,y)
  }
  ctx.fill()
  function drawBottom(x = 0, y = 0) {
    ctx.rect(x * 50, y * 50 + 50, 55, 5)
  }
  function drawRight(x = 0, y = 0) {
    ctx.rect(x * 50 + 50, y * 50, 5, 50)
  }
}

function drawCoins() {
  ctx.fillStyle = "yellow"
  for (let i = 0; i < columnsNum; i++) {
    for (let j = 0; j < rowsNum; j++) {
      ctx.beginPath()
      ctx.arc(i * 50 + 25, j * 50 + 25, 4, 0, Math.PI * 2)
      ctx.fill()
    }
  }
}

drawWalls()
drawCoins()

// for (let i = 0; i < passages.length; i++) {
//   console.log(i, passages[i])
// }
  </script>
</body>
</html>
